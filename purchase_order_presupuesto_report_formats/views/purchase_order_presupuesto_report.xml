<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <template id="reporte_purchase_solicitud_coopsol">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="header">
                    <div class="row" style="border-width: thin;border-bottom-style: ridge; font-size:60px;">
                        <div class="col-4">
                            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)"  alt="Logo" style="max-height: 260px; max-width: 220px; vertical-align: baseline; " />
                        </div>  
                        <div class="col-3">
                        </div>
                        <div class="col-5" style="font-weight: normal; font-size:16px; text-align: right;color:#454545;">
                            <t t-if="o.company_id">
                                <t t-if="o.company_id.vat">
                                    <span>[</span> <span t-field="o.company_id.vat"></span> <span>]</span>
                                </t>
                                <t t-if="o.company_id.name">
                                    <span style="color:#454545;" t-field="o.company_id.name"> </span>
                                </t>
                            </t>
                        </div>
                    </div>
                </div>

                <div class="footer">
                    <div style="border-width: 5px;border-top-style: solid; font-size:14px;">
                        <div class="row">
                            <div class="col-12" style="font-weight: normal; font-size:14px; text-align: center;">
                                    <t t-if="o.company_id.phone">
                                        <span style="color:#454545;" >Tel.: </span>
                                        <span style="color:#454545;"  t-field="o.company_id.phone"></span>
                                    </t>

                                    <t t-if="o.company_id.email">
                                        <span style="position:relative;left:9px; color:#454545;" >Correo: </span>
                                        <span style="position:relative;left:9px; color:#454545;" t-field="o.company_id.email"></span>
                                    </t>

                                    <t t-if="o.company_id.website">
                                        <span style="position:relative;left:18px; color:#454545;" >Red: </span>
                                        <span style="position:relative;left:18px; color:#454545;"  t-field="o.company_id.website"></span>
                                    </t>

                                    <t t-if="o.company_id.vat">
                                        <span style="position:relative;left:27px; color:#454545;" >RUC: </span>
                                        <span style="position:relative;left:27px; color:#454545;"  t-field="o.company_id.vat"></span>
                                    </t>
                                    <br/>
                                    <ul class="list-inline">
                                        <span>Page:</span>
                                        <span class="page"/>
                                        <span>/</span>
                                        <span class="topage"/>
                                    </ul>
                            </div>
                        </div>
                    </div>   
                </div>

                <div t-attf-class="article o_report_layout_standard o_company_#{o.company_id.id}_layout"  t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
                    
                        <div class="page"> 
                            <div class="row">
                                <div class="col-7">
                                    <span style="font-weight: bold; font-size:19px;color:#2B2B2B;font-family: Arial;">Dirección de Envío</span>
                                    <br/>
                                    <t t-if="o.company_id">
                                        <span style="font-weight: normal; font-size:19px; color:#454545;" t-esc="o.company_id.name"></span>
                                    </t>
                                    <br/>
                                    <t t-if="o.company_id.phone">
                                        <span style="font-weight: normal; font-size:19px; color:#454545;" t-esc="o.company_id.phone"></span>
                                    </t>
                                    <br/>
                                    <t t-if="o.name">
                                        <span style="font-weight: normal; font-size:19px;color:#2B2B2B;font-family: Arial;">Solicitud de presupuesto</span>
                                        <span style="font-weight: bold; font-size:19px;" t-esc="o.name"></span>
                                    </t>
                                </div>
                                <div class="col-5">
                                    <t t-if="o.partner_id.vat">
                                        <span>[</span> <span style="font-weight: normal; font-size:19px; color:#454545;" t-field="o.partner_id.vat"></span> <span>]</span>
                                    </t>
                                    <span style="font-weight: normal; font-size:19px; color:#454545;" t-esc="o.partner_id.name"></span>
                                    <br/>
                                    <t t-if="o.partner_id.l10n_latam_identification_type_id">
                                        <span style="font-weight: normal; font-size:19px; color:#454545;" t-esc="o.partner_id.l10n_latam_identification_type_id.name"></span>
                                        <span style="font-weight: normal; font-size:19px; color:#454545;">: </span>
                                    </t>
                                    <t t-if="o.partner_id.vat">
                                        <span style="font-weight: normal; font-size:19px; color:#454545;" t-esc="o.partner_id.vat"></span>
                                    </t>
                                </div>
                            </div>
                            <br/>



                            <t t-if="o.order_line">
                                <table style="width: 320mm;">
                                    <tbody>
                                        <tr><td></td><td></td><td></td></tr>
                                        <tr>
                                            <td style="border-width: 2.5px;border-top-style: solid;border-left-style: solid;border-right-style: solid; font-weight: bold; font-size:21px; text-align: left;padding: 4px;">
                                                <span style="font-size:21px;font-weight: bold;font-family: Arial;" >DESCRIPCIÓN</span>
                                            </td>
                                            <td style="border-width: 2.5px;border-top-style: solid;border-left-style: solid;border-right-style: solid; font-weight: bold; font-size:21px; text-align: center;padding: 4px;">
                                                <span styles="font-size:21px;font-weight: bold;font-family: Arial;" >FECHA PREVISTA</span>
                                            </td>
                                            <td style="border-width: 2.5px;border-top-style: solid;border-left-style: solid;border-right-style: solid; font-weight: bold; font-size:21px; text-align: right;padding: 4px;">
                                                <span styles="font-size:21px;font-weight: bold;font-family: Arial;" >CANT</span>
                                            </td>
                                        </tr>
                                        <t t-set="contador" t-value="1"/>

                                        <t t-foreach="o.order_line" t-as="linea" >
                                            <t t-if="contador == len(o.order_line)">
                                            <tr>
                                                <td style="border-width: 2.5px;border-left-style: ridge;border-bottom-style: ridge;border-right-style: ridge; font-weight: normal; font-size:21px; text-align: left;padding: 4px;">
                                                    <t t-if="linea.name">
                                                        <span style="color:#454545;font-family: Arial;" t-esc="linea.name"/>
                                                    </t>
                                                </td>
                                                <td style="border-width: 2.5px;border-left-style: ridge;border-right-style: ridge;border-bottom-style: ridge; font-weight: normal; font-size:21px; text-align: center;padding: 4px;">
                                                    <t t-if="linea.date_planned">
                                                        <span style="color:#454545;font-family: Arial;" t-esc="linea.date_planned"/>
                                                    </t>
                                                </td>
                                                <td style="background-color: #E3E2E2;border-width: 2.5px;border-left-style: ridge;border-right-style: ridge;border-bottom-style: ridge; font-weight: normal; font-size:19px; text-align: right;padding: 4px;">
                                                    <t t-if="linea.product_qty">
                                                        <span style="color:#454545;font-family: Arial;" t-field="linea.product_qty"/>
                                                        <br/>
                                                        <t t-if="linea.product_uom">
                                                            <span style="color:#454545;font-family: Arial;" t-field="linea.product_uom.name"/>
                                                        </t>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-if="contador &lt; len(o.order_line)">
                                            <tr>
                                                <td style="border-width: 2.5px;border-left-style: ridge;border-right-style: ridge; font-weight: normal; font-size:21px; text-align: left;padding: 4px;">                                                                                                            
                                                    <t t-if="linea.name">
                                                        <span style="color:#454545;font-family: Arial;" t-esc="linea.name"/>
                                                    </t>
                                                </td>
                                                <td style="border-width: 2.5px;border-left-style: ridge;border-right-style: ridge; font-weight: normal; font-size:21px; text-align: center;padding: 4px;">
                                                    <t t-if="linea.date_planned">
                                                        <span style="color:#454545;font-family: Arial;" t-esc="linea.date_planned"/>
                                                    </t>
                                                </td>
                                                <td style="background-color: #E3E2E2;border-width: 2.5px;border-left-style: ridge;border-right-style: ridge; font-weight: normal; font-size:19px; text-align: right;padding: 4px;">
                                                    <t t-if="linea.product_qty">
                                                        <span style="color:#454545;font-family: Arial;" t-field="linea.product_qty"/>
                                                        <br/>
                                                        <t t-if="linea.product_uom">
                                                            <span style="color:#454545;font-family: Arial;" t-field="linea.product_uom.name"/>
                                                        </t>
                                                    </t>
                                                </td>                                                
                                            </tr>
                                        </t>

                                            <t t-set="contador" t-value="contador+1"/>
                                        </t>
                                    </tbody>
                                </table>
                                <br/><br/>
                            </t>
                            <t t-if="o.notes">
                                <span style="font-weight: normal; font-size:20px; color:#454545;" t-field="o.notes"/>
                            </t>



                        </div>
                </div>
            </t>
        </t>
    </template>



        <record id="paperformat_solicitud_copsol" model="report.paperformat">
            <field name="name">Reporte solicitud presupuesto</field>
            <field name="default" eval="False" />
            <field name="format">A4</field>
            <field name="page_height">0</field>
            <field name="page_width">0</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">50</field>
            <field name="margin_bottom">24</field>
            <field name="margin_left">7</field>
            <field name="margin_right">7</field>
            <field name="header_line" eval="False" />
            <field name="header_spacing">45</field>
            <field name="dpi">90</field>
        </record>


    <report 
        id="action_purchase_solicitud_coopsol"
        string="Solicitud de Presupuesto"
        model="purchase.order"
        report_type="qweb-pdf"
        file="purchase_order_presupuesto_report_formats.reporte_purchase_solicitud_coopsol"
        name="purchase_order_presupuesto_report_formats.reporte_purchase_solicitud_coopsol"
        paperformat="purchase_order_presupuesto_report_formats.paperformat_solicitud_copsol"
        print_report_name="'Solicitud de Presupuesto N° - %s' % (object.name)"
        />
</odoo>